ipv6: true
allow_external_connections: false
vif_only: false
hijack_dns:
- '*:53'
geoip_db_url: https://github.com/Auniquesir/Boxs/raw/X/CNIP/Country.mmdb
asn_db_url: https://github.com/Auniquesir/Boxs/raw/X/ASN/ASN.mmdb
proxy_latency_test_url: http://cp.cloudflare.com/
direct_latency_test_url: http://g.alicdn.com
dns:
  bootstrap:
  - 223.5.5.5
  - 223.6.6.6
  upstreams:
    ChinaDNS:
    - https://223.5.5.5
    GlobalDNS:
    - https://8.8.8.8
  forward:
  - proxy_rule_set:
      match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/China/China_All_No_Resolve.list
      value: ChinaDNS
  - wildcard:
      match: '*apple*'
      value: ChinaDNS
  - wildcard:
      match: '*'
      value: GlobalDNS
  hosts:
    localhost: 127.0.0.1
    ip6-localhost: ::1
    ip6-loopback: ::1 
    ip6-localnet: fe00::0 
    ip6-mcastprefix: ff00::0 
    ip6-allnodes: ff02::1 
    ip6-allrouters: ff02::2 
    ip6-allhosts: ff02::3
  public_ip_lookup_url: https://ifconfig.me/ip
policy_groups:
- external:
    name: èŠ‚ç‚¹é€‰æ‹©
    type: select
    urls:
    - æ­¤å¤„å¡«å†™è®¢é˜…åœ°å€
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Egern.png
    hidden: false
- select:
    name: å›½é™…æœåŠ¡
    policies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Global.png
- select:
    name: å›½é™…åª’ä½“
    policies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/ForeignMedia.png
- select:
    name: è°·æ­ŒæœåŠ¡
    policies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Google.png
- select:
    name: ç”µæŠ¥æ¶ˆæ¯
    policies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Telegram.png
- select:
    name: æ¨ç‰¹æ¶ˆæ¯
    policies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/X.png
- select:
    name: å›½é™…æŠ–éŸ³
    policies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/TikTok.png
- select:
    name: æ™ºèƒ½åº”ç­”
    policies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Chatgpt.png
- select:
    name: å¾®è½¯æœåŠ¡
    policies:
    - å›½å†…åˆ†æµ
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Microsoft.png
- select:
    name: è‹¹æœæœåŠ¡
    policies:
    - å›½å†…åˆ†æµ
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Apple.png
- select:
    name: å…œåº•åˆ†æµ
    policies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Final.png
- select:
    name: å›½å†…åˆ†æµ
    policies:
    - DIRECT
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/China_Map.png
    hidden: true
- select:
    name: æ‹’ç»åº”ç­”
    policies:
    - REJECT
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Reject.png
    hidden: true
- auto_test:
    name: é¦™æ¸¯èŠ‚ç‚¹
    policies:
    - èŠ‚ç‚¹é€‰æ‹©
    flatten: true
    filter: æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong
    tolerance: 50
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Hong_Kong.png
    hidden: true
- auto_test:
    name: ç¾å›½èŠ‚ç‚¹
    policies:
    - èŠ‚ç‚¹é€‰æ‹©
    flatten: true
    filter: ç¾|ğŸ‡ºğŸ‡¸|US|States|American
    tolerance: 50
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/United_States.png
    hidden: true
- auto_test:
    name: ç‹®åŸèŠ‚ç‚¹
    policies:
    - èŠ‚ç‚¹é€‰æ‹©
    flatten: true
    filter: å¡|ğŸ‡¸ğŸ‡¬|SG|Singapore
    tolerance: 50
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Singapore.png
    hidden: true
- auto_test:
    name: æ—¥æœ¬èŠ‚ç‚¹
    policies:
    - èŠ‚ç‚¹é€‰æ‹©
    flatten: true
    filter: æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan
    tolerance: 50
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Japan.png
    hidden: true
- auto_test:
    name: å°æ¹¾èŠ‚ç‚¹
    policies:
    - èŠ‚ç‚¹é€‰æ‹©
    flatten: true
    filter: å°|ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|TW|Taiwan
    tolerance: 50
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/China.png
    hidden: true
- auto_test:
    name: å…¶ä»–èŠ‚ç‚¹
    policies:
    - èŠ‚ç‚¹é€‰æ‹©
    flatten: true
    filter: ^((?!ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong|ğŸ‡¹ğŸ‡¼|å°|TW|Tai|ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan|ğŸ‡¸ğŸ‡¬|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡ºğŸ‡¸|ç¾|US|States|American).)*$
    icon: https://raw.githubusercontent.com/Auniquesir/Box/X/icon/App/Rainbow.png
    hidden: true
rules:
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Direct/Direct.list
    policy: å›½å†…åˆ†æµ
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Boxs/X/Rule/AdBlock.list
    policy: æ‹’ç»åº”ç­”
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/BlockHttpDNS/BlockHttpDNS.list
    policy: æ‹’ç»åº”ç­”
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Hijacking/Hijacking.list
    policy: æ‹’ç»åº”ç­”
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Privacy/Privacy_All_No_Resolve.list
    policy: æ‹’ç»åº”ç­”
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/OpenAI/OpenAI.list
    policy: æ™ºèƒ½åº”ç­”
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Copilot/Copilot.list
    policy: æ™ºèƒ½åº”ç­”
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Gemini/Gemini.list
    policy: æ™ºèƒ½åº”ç­”
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Apple/Apple.list
    policy: è‹¹æœæœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Microsoft/Microsoft.list
    policy: å¾®è½¯æœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/ChinaMedia/ChinaMedia.list
    policy: å›½å†…åˆ†æµ
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/GitHub/GitHub.list
    policy: å›½é™…æœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/GitLab/GitLab.list
    policy: å›½é™…æœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Telegram/Telegram.list
    policy: ç”µæŠ¥æ¶ˆæ¯
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Twitter/Twitter.list
    policy: æ¨ç‰¹æ¶ˆæ¯
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Spotify/Spotify.list
    policy: å›½é™…æœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/TikTok/TikTok.list
    policy: å›½é™…æŠ–éŸ³
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Bing/Bing.list
    policy: å›½é™…æœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/YouTube/YouTube.list
    policy: è°·æ­ŒæœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Google/Google.list
    policy: è°·æ­ŒæœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Speedtest/Speedtest.list
    policy: èŠ‚ç‚¹é€‰æ‹©
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Proxy/Proxy_All_No_Resolve.list
    policy: å›½é™…æœåŠ¡
- rule_set:
    match: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rules/Lan/Lan.list
    policy: å›½å†…åˆ†æµ
- geoip:
    match: CN
    policy: å›½å†…åˆ†æµ
- default:
    policy: å…œåº•åˆ†æµ
url_rewrites:
- match: ^https?://(www.)?g.cn
  location: https://www.google.com
  status_code: 302
- match: ^https?://(www.)?google.cn
  location: https://www.google.com
  status_code: 302
mitm:
  enabled: true
modules:
- name: é˜»æ­¢HTTPDNS æœåŠ¡å™¨
  url: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rewrite/BlockHTTPDNS/BlockHTTPDNS.sgmodule
  enabled: true
- name: å®‰å…¨é‡å®šå‘
  url: https://raw.githubusercontent.com/Auniquesir/Tool/X/Egern/Rewrite/SafeRedirect/SafeRedirect.sgmodule
  enabled: true
- name: é‡å†™è§„åˆ™é›†è½¬æ¢
  url: https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.surge.sgmodule
  enabled: true
- name: è®¢é˜…ç®¡ç†å·¥å…·
  url: https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Egern.yaml
  enabled: false
